<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>STC Tap</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <link rel="stylesheet" href="css/bootstrap.css" media="screen">
    <link rel="stylesheet" href="css/custom.min.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
      <script src="js/respond.min.js"></script>
    <![endif]-->
</head>

<body>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <!--
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                -->
                <a class="navbar-brand" href="#">STC Tap</a>
            </div>
            <!--
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="index.html">Recent Taps</a></li>
                    <li><a href="#">Help</a></li>
                </ul>
            </div>
            -->
        </div>
    </nav>
    <div class="container-fluid">
        <div class="row row-offcanvas row-offcanvas-left">
            <div class="col-sm-3 col-md-2 sidebar-offcanvas" id="sidebar" role="navigation">
                <ul class="nav nav-sidebar">
                    <li class="active"><a href="#">Recent Taps</a></li>
                    <li><a href="#">Metrics</a></li>
                    <li><a href="#">Help</a></li>
                </ul>
            </div>
            <!--/span-->
            <div class="col-sm-9 col-md-10 main">
                <!--toggle sidebar button-->
                <p class="visible-xs">
                    <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas"><i class="glyphicon glyphicon-chevron-left"></i></button>
                </p>
                <h1 class="page-header">Recent Taps</h1>
				<h3 class="page-subheader">Date: <span id="date">Loading...</span></h3>
				<h3 class="page-subheader">Time: <span id="clock">Loading...</span></h3>
                <form onsubmit="return submitRFID(this);">
                  <div class="form-group col-lg-4 col-md-6 col-sm-12 col-xs-12">
                    <div class="input-group">
                      <span class="input-group-addon">RFID</span>
                      <input type="text" class="form-control" name="rfid" autofocus>
                      <span class="input-group-btn">
                        <button class="btn btn-primary" type="submit">Enter</button>
                      </span>
                    </div>
                  </div>
                </form>
				<div class="col-lg-2 col-md-3 col-sm-6 col-xs-6">
					<button class="btn btn-success clearfix" type="button" id="addAccept">Test Accept</button>
				</div>
				<div class="col-lg-2 col-md-3 col-sm-6 col-xs-6">
					<button class="btn btn-danger clearfix" type="button" id="addDeny">Test Deny</button>
				</div>
				<br>
                <div class="table-responsive col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <table class="table">
                        <thead>
                            <tr>
                                <th class="col-md-2">Timestamp</th>
                                <th class="col-md-1">Status</th>
                                <th class="col-md-2">Name</th>
                                <th class="col-md-2">NetID</th>
                                <th class="col-md-5">Notes</th>
                            </tr>
                        </thead>
                        <tbody id="data">
                        </tbody>
                    </table>
                </div>
            </div>
            <!--/row-->
        </div>
    </div>
    <!--/.container-->

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/custom.js"></script>
	<script type="text/javascript" src="js/moment.js"></script>
    <script type="text/javascript">
      $(document).ready(function() {
        $('[data-toggle=offcanvas]').click(function() {
          $('.row-offcanvas').toggleClass('active');
        });
      });
    </script>
	
	<script type="text/javascript">
		function update() {
		  $('#date').html(moment().format('MMM Do YY'));
		  $('#clock').html(moment().format('h:mm:ss a'));
		}
		setInterval(update, 1000);
	</script>
	
	<script type="text/javascript">
		$('#addAccept').click(function() {
			var now = moment().format('MMM Do YY h:mm:ss a');
			$('<tr><td>' + now + '</td><td>Accepted</td><td>Eric Lin</td><td>sl5268</td><td></td></tr>')
				.hide()
				.prependTo('table tbody')
				.fadeIn("slow")
				.addClass("success");
			var table = document.getElementById("data");
			if(table.childElementCount > 15){
				table.removeChild(table.lastChild);
			}
		});
		$('#addDeny').click(function() {
			var now = moment().format('MMM Do YY h:mm:ss a');
			$('<tr><td>' + now + '</td><td>Denied</td><td>Sarth Desai</td><td>sd2461</td><td>Client is in admin position</td></tr>')
				.hide()
				.prependTo('table tbody')
				.fadeIn("slow")
				.addClass("danger");
			var table = document.getElementById("data");
			if(table.childElementCount > 15){
				table.removeChild(table.lastChild);
			}
		});
	</script>
	
	<script type="text/javascript">
		function submitRFID(form){
			var rfid;
			rfid = form.rfid.value;

			if(rfid){
				form.rfid.value = "";
			}
			return false;
		}
	</script>
</body>

</html>